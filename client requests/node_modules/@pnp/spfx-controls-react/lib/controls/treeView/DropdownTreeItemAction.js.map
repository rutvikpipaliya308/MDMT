{"version":3,"sources":["controls/treeView/DropdownTreeItemAction.tsx"],"names":[],"mappings":"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","file":"controls/treeView/DropdownTreeItemAction.js","sourcesContent":["import * as React from 'react';\nimport { IContextualMenuItem, IContextualMenuProps } from 'office-ui-fabric-react/lib/ContextualMenu';\nimport { IconButton } from 'office-ui-fabric-react/lib/Button';\nimport { ITreeItem } from './ITreeItem';\nimport { ITreeItemAction, IConcreteTreeItemActionProps } from './ITreeItemActions';\nimport styles from './TreeView.module.scss';\n\n/**\n * Renders the controls for Dropdown TreeItem action component\n */\nexport class DropdownTreeItemAction extends React.Component<IConcreteTreeItemActionProps> {\n\n  /**\n   * componentWillMount lifecycle hook\n   */\n  public componentWillMount(): void {\n    this.checkForImmediateInvocations();\n  }\n\n  /**\n   * Prepates contextual menu items for dropdown.\n   */\n  private prepareContextualMenuProps = (treeItem: ITreeItem, treeItemActions: ITreeItemAction[]): IContextualMenuProps => {\n    let items: IContextualMenuItem[] = [];\n    let useTargetWidth = true;\n\n    for (const treeItemAction of treeItemActions) {\n      if (!treeItemAction.hidden) {\n        let treeItemActionMenuItem: IContextualMenuItem = {\n          key: treeItem.key.toString(),\n          onClick: () => { this.onActionExecute(treeItemAction); }\n        };\n\n        treeItemActionMenuItem.text = treeItemAction.title;\n        treeItemActionMenuItem.name = treeItemAction.title;\n        treeItemActionMenuItem.iconProps = treeItemAction.iconProps;\n        useTargetWidth = treeItemActionMenuItem.iconProps ? false : true;\n\n        items.push(treeItemActionMenuItem);\n      }\n    }\n\n    const contextualMenuProps: IContextualMenuProps = {\n      items,\n      useTargetWidth\n    };\n    return contextualMenuProps;\n  }\n\n  /**\n   * Prepare treeItem action button style.\n   */\n  private getTreeItemActionActionButtonStyle = (): React.CSSProperties => {\n    let result: React.CSSProperties = {\n      backgroundColor: \"transparent\",\n      width: \"14px\",\n      display: \"inline-flex\",\n      padding: \"0px\"\n    };\n\n    return result;\n  }\n\n  /**\n   * Check if there are action to immediatly invoke\n   */\n  private checkForImmediateInvocations() {\n    const { treeItemActions } = this.props;\n    for (const action of treeItemActions) {\n      if (action.invokeActionOnRender) {\n        this.onActionExecute(action);\n      }\n    }\n  }\n\n  /**\n   * Handler to execute selected action.\n   */\n  private onActionExecute = async (treeItemAction: ITreeItemAction) => {\n    const updateAction = await treeItemAction.actionCallback(this.props.treeItem);\n    this.props.treeItemActionCallback();\n  }\n\n  /**\n   * Default React render method\n   */\n  public render(): React.ReactElement<IConcreteTreeItemActionProps> {\n    const { treeItem, treeItemActions } = this.props;\n\n    const contextualMenuProps = this.prepareContextualMenuProps(treeItem, treeItemActions);\n\n    return (\n      <div>\n        <IconButton\n          menuProps={contextualMenuProps}\n          menuIconProps={{ iconName: 'MoreVertical' }}\n          className={styles.actionMore}\n          title=\"More\"\n          ariaLabel=\"More\"\n        />\n      </div>\n    );\n  }\n}\n"],"sourceRoot":"../../../src"}