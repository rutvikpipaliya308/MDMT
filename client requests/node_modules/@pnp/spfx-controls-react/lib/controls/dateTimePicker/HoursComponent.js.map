{"version":3,"sources":["controls/dateTimePicker/HoursComponent.tsx"],"names":[],"mappings":"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","file":"controls/dateTimePicker/HoursComponent.js","sourcesContent":["import * as strings from 'ControlStrings';\nimport * as React from 'react';\nimport { IHoursComponentProps } from './ITimeComponentProps';\nimport { TimeConvention } from './DateTimeConventions';\nimport { MaskedTextField } from 'office-ui-fabric-react/lib/TextField';\nimport { TimeHelper } from './TimeHelper';\nimport { IDropdownOption, Dropdown } from 'office-ui-fabric-react/lib/Dropdown';\nimport { TimeDisplayControlType } from './TimeDisplayControlType';\n\n/**\n * Hours component, this renders the hours dropdown\n */\nexport default class HoursComponent extends React.Component<IHoursComponentProps, {}> {\n\n  private _hours: IDropdownOption[];\n\n  constructor(props: IHoursComponentProps) {\n    super(props);\n\n    this._initHoursOptions();\n  }\n\n  public render(): JSX.Element {\n    const {\n      disabled,\n      timeConvention,\n      value,\n      timeDisplayControlType,\n      onChange\n    } = this.props;\n    const renderDropdown = timeDisplayControlType === TimeDisplayControlType.Dropdown;\n    if (renderDropdown) {\n      return (\n        <Dropdown\n          disabled={this.props.disabled}\n          label=''\n          options={this._hours}\n          onChanged={option => {\n            onChange(option.text);\n          }}\n          dropdownWidth={110} />);\n    }\n    else {\n      return (\n        <MaskedTextField disabled={disabled}\n          label=\"\"\n          value={value ? TimeHelper.hoursValue(value, timeConvention) : `${timeConvention === TimeConvention.Hours24 ? \"00\" : \"12 AM\"}`}\n          mask={timeConvention === TimeConvention.Hours24 ? \"29\" : \"19 AM\"}\n          maskFormat={{\n            '1': /[0-1]/,\n            '2': /[0-2]/,\n            '9': /[0-9]/,\n            'A': /[AaPp]/,\n            'M': /[Mm]/\n          }}\n          onGetErrorMessage={(val) => {\n            let message = \"\";\n            const hours: number = parseInt(val);\n            if (isNaN(hours)) {\n              message = strings.DateTimePickerHourValueInvalid;\n            }\n\n            if (!message && timeConvention === TimeConvention.Hours24) {\n              message = hours > 23 ? strings.DateTimePickerHourValueInvalid : \"\";\n            } else {\n              message = hours > 12 ? strings.DateTimePickerHourValueInvalid : \"\";\n            }\n\n            if (!message) {\n              onChange(val);\n            }\n\n            return message;\n          }} />\n      );\n    }\n  }\n\n  private _initHoursOptions() {\n    const amDesignator = 'AM';\n    const pmDesignator = 'PM';\n\n    const {\n      value,\n      timeConvention\n    } = this.props;\n    /*if (strings.AMDesignator) {\n      amDesignator = ` ${strings.AMDesignator}`;\n    }\n    if (strings.PMDesignator) {\n      pmDesignator = ` ${strings.PMDesignator}`;\n    }*/\n\n    let hours: IDropdownOption[] = [];\n    for (let i = 0; i < 24; i++) {\n      let digit: string;\n      if (this.props.timeConvention === TimeConvention.Hours24) {\n        // 24 hours time convention\n        if (i < 10) {\n          digit = '0' + i;\n        } else {\n          digit = i.toString();\n        }\n      } else {\n        // 12 hours time convention\n        if (i === 0) {\n          digit = `12 ${amDesignator}`;\n        } else if (i < 12) {\n          digit = `${i} ${amDesignator}`;\n        } else {\n          if (i === 12) {\n            digit = `12 ${pmDesignator}`;\n          } else {\n            digit = `${(i % 12)} ${pmDesignator}`;\n          }\n        }\n      }\n\n      let selected: boolean = false;\n      if (i === value) {\n        selected = true;\n      }\n\n      hours.push({ key: i, text: digit, isSelected: selected });\n    }\n\n    this._hours = hours;\n  }\n}\n"],"sourceRoot":"../../../src"}